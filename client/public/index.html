const express = require("express")
const mongoose = require("mongoose")
const app = express()
const database = require("./database")
const bodyParser = require("body-parser")

// use bodyparser to get data from body in json format
app.use(bodyParser.urlencoded({ extended: true }))
app.use(express.json())

require("./model")
app.use(require("./routes"))

app.get("/",(req,res)=>{
    res.json({name:"vishal"})
})

app.listen(3000,()=>{
    console.log("running -> 3000")
})



require ("dotenv").config()
const mongoose = require("mongoose")
const assert = require("assert")


mongoose.connect("mongodb://127.0.0.1:27017/practice1",
{
    useUnifiedTopology:true,
useCreateIndex:true,
useFindAndModify:false,
useNewUrlParser:true,
useCreateIndex:true
},function(error,link){
assert.equal(error,null,"fail db connect")
console.log(link)
console.log("connected")
})





const mongoose = require("mongoose")

const userScheme = new mongoose.Schema({
    name:{
        type:String,
        required:true
    },
    email:{
        type:String,
        required:true
    },
    password:{
        type:String,
        required:true
    }
})

mongoose.model("User",userScheme)




const express  = require("express")
const mongoose = require("mongoose")
const router = express.Router()
const User = mongoose.model("User")

router.get("/create",(req,res)=>{
console.log({ok:"ok"})
})

module.exports=router;
